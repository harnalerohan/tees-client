{"version":3,"sources":["backend.js","auth/helper/index.js","core/Menu.js","core/Base.js","core/helper/cartHelper.js","core/helper/ImageHelper.js","core/Card.js","core/Home.js","core/helper/coreapicalls.js","user/Signup.js","user/Signin.js","auth/helper/AdminRoutes.js","auth/helper/PrivateRoutes.js","user/UserDashBoard.js","user/helper/userapicalls.js","user/AdminDashBoard.js","admin/helper/adminapicall.js","admin/AddCategory.js","admin/ManageCategories.js","admin/AddProduct.js","admin/ManageProducts.js","admin/UpdateProduct.js","admin/UpdateCategory.js","core/Payment.js","core/helper/paymentHelper.js","core/helper/orderHelper.js","core/Cart.js","admin/Orders.js","Routes.js","index.js"],"names":["API","process","UserService","signup","user","console","log","localStorage","fetch","method","headers","Accept","body","JSON","stringify","then","response","json","catch","err","signin","authenticate","data","next","window","setItem","signout","removeItem","isAuthenticated","getItem","parse","currentTab","history","path","location","pathname","color","withRouter","className","style","to","role","Fragment","onClick","push","Base","title","description","children","removeItemFromCart","productId","cart","undefined","map","item","index","_id","splice","ImageHelper","product","imageUrl","src","alt","maxHeight","maxWidth","Card","isAddToCart","isRemoveFromCart","setReload","f","reload","setAddedToCart","useState","count","cartTittle","name","cartDescription","cartPrice","price","addToCart","addItemToCart","Home","products","setProducts","setError","addedToCart","preload","error","useEffect","showMessage","value","Signup","email","password","success","values","setValues","handleChange","e","target","onSubmit","preventDefault","Error","display","action","onChange","type","Signin","loading","didRedirect","AdminRoute","Component","component","rest","render","props","state","from","PrivateRoute","UserDashboard","token","userOrders","setUserOrders","setErr","userId","Authorization","getUserOrder","contact","length","order","i","status","createdAt","amount","AdminDashboard","getCategories","AddCategory","setName","setSuccess","category","createCategory","successMessage","warningMessage","autoFocus","required","placeholder","ManageCategories","categories","setCategories","deleteThisCategory","categoryId","deleteCategory","AddProduct","stock","photo","createdProduct","getRedirect","formData","FormData","createProduct","event","files","set","accept","cate","ManageProducts","deleteThisProduct","deleteProduct","UpdateProduct","useParams","getProduct","preloadCategories","onUpdate","updateProduct","UpdateCategory","updateCategory","getCategory","Payment","clientToken","instance","info","setinfo","getToken","getMeToken","onPurchase","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","getAmount","paymentInfo","processPayment","orderData","transaction_id","transaction","id","createOrder","options","authorization","onInstance","Cart","cartItems","setCartItmes","itemsInCart","Orders","orders","setOrders","getAllOrders","cancelTheOrder","cancelOrder","userDetailsCard","paymentDetailsCard","bottomButtonRow","Routes","exact","ReactDom","document","getElementById"],"mappings":"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","file":"static/js/main.770fc7d8.chunk.js","sourcesContent":["export const API = process.env.REACT_APP_BACKEND","import {API} from \"../../backend\"\r\n//API means ; localhost:8000/api\r\n\r\nconst signup = user => {\r\n  console.log(localStorage)\r\n  return fetch(`${API}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify(user)\r\n  })\r\n  .then(response => {\r\n    return response.json()\r\n  })\r\n  .catch(err => console.log(err))\r\n}\r\n\r\n\r\nconst signin = user => {\r\n  return fetch(`${API}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify(user)\r\n  })\r\n  .then(response => {\r\n    return response.json()\r\n  })\r\n  .catch(console.log(\"Error\"))\r\n}\r\n\r\n\r\nconst authenticate = (data, next) => {\r\n  if(typeof window !== \"undefined\")\r\n  localStorage.setItem(\"jwt\", JSON.stringify(data))\r\n  next()\r\n}\r\n\r\n\r\nconst signout = next => {\r\n  if(typeof window !== \"undefined\"){\r\n  localStorage.removeItem(\"jwt\")\r\n  next();\r\n\r\n  return fetch(`${API}/signout`, {\r\n    method: \"GET\",\r\n  }).then(response => {\r\n    console.log(\"Signout success\")\r\n  })\r\n  .catch(err => console.log(err))\r\n  }\r\n};\r\n\r\nconst isAuthenticated = () => {\r\n  if(typeof window == \"undefined\"){\r\n    return false\r\n  }\r\n  if (localStorage.getItem(\"jwt\")){\r\n    return JSON.parse(localStorage.getItem(\"jwt\"))\r\n  }else{\r\n    return false\r\n  }\r\n};\r\n\r\n\r\nconst UserService = {\r\n  signup,\r\n  signin,\r\n  authenticate,\r\n  signout,\r\n  isAuthenticated\r\n}\r\n\r\nexport default UserService","import React from 'react';\r\nimport {Link, withRouter} from \"react-router-dom\"\r\nimport UserService from \"../auth/helper\"\r\n\r\nconst currentTab = (history, path) => {\r\n  // console.log(history);\r\n  if(history.location.pathname === path){\r\n    return {color: \"#2ecc72\"}\r\n  }else{\r\n    return {color: \"#FFFFFF\"}\r\n  }\r\n}\r\n\r\nconst Menu = ({history}) => {\r\n  return (\r\n    <div>\r\n      <ul className=\"nav nav-tabs bg-dark\">\r\n\r\n        <li className=\"nav-item\">\r\n          <Link style={currentTab(history, \"/\")} className=\"nav-link\" to=\"/\">\r\n            Home\r\n          </Link>\r\n        </li>\r\n\r\n        <li className=\"nav-item\">\r\n          <Link style={currentTab(history, \"/cart\")} className=\"nav-link\" to=\"/cart\">\r\n            Cart\r\n          </Link>\r\n        </li>\r\n\r\n        {UserService.isAuthenticated() && UserService.isAuthenticated().user.role === 0 && (\r\n            <li className=\"nav-item\">\r\n            <Link style={currentTab(history, \"/user/dashboard\")}className=\"nav-link\" to=\"/user/dashboard\">\r\n              U. Dashboard\r\n            </Link>\r\n          </li>\r\n        )}\r\n\r\n        {UserService.isAuthenticated() && UserService.isAuthenticated().user.role === 1 && (\r\n            <li className=\"nav-item\">\r\n            <Link style={currentTab(history, \"/admin/dashboard\")}className=\"nav-link\" to=\"/admin/dashboard\">\r\n              A. Dashboard\r\n            </Link>\r\n          </li>\r\n        )}\r\n\r\n        {!UserService.isAuthenticated() && (\r\n          <React.Fragment>\r\n          <li className=\"nav-item\">\r\n            <Link style={currentTab(history, \"/signup\")}className=\"nav-link\" to=\"/signup\">\r\n              Sign Up\r\n            </Link>\r\n          </li>\r\n  \r\n          <li className=\"nav-item\">\r\n            <Link style={currentTab(history, \"/signin\")} className=\"nav-link\" to=\"/signin\">\r\n              Sign In\r\n            </Link>\r\n          </li>\r\n          </React.Fragment>\r\n        )}\r\n\r\n        {UserService.isAuthenticated() && (\r\n        <li className=\"nav-item\">\r\n          <span \r\n            className=\"nav-link text-warning\" \r\n            onClick={() => {\r\n              //signout is middleware so callback is used\r\n              UserService.signout(() => {\r\n                history.push(\"/\")\r\n              })\r\n            }}>\r\n            Signout\r\n          </span>\r\n        </li>\r\n        )}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default withRouter(Menu)\r\n","import React from 'react'\r\nimport Menu from './Menu'\r\nimport \"../styles.css\"\r\n\r\n\r\n\r\nconst Base = ({\r\n  title = \"My Title\",\r\n  description = \"My description\",\r\n  className = \"custom bg-dark text-white p-4 pb-6\",\r\n  children\r\n}) => {\r\n  return (\r\n  <div>\r\n    <Menu/>\r\n    <div className=\"container-fluid\">\r\n      <div className= \"jumbotron bg-dark text-white text-center pb-3 pt-5\">\r\n        <h2 className = \"display-5\">{title}</h2>\r\n        <p className = \"lead\">{description}</p>\r\n      </div>\r\n\r\n      <div className = {className}>{children}</div>\r\n\r\n    </div>\r\n      <footer className=\"footer bg-dark mt-auto py-3\">\r\n        <div className = \"container-fluid bg-success text-white text-center py-3\">\r\n          <h4>If You got any questions, feel free to reach out!</h4>\r\n          <button className = \"btn btn-warning btn-lg\">Contact Us</button>\r\n        </div>\r\n        <div className = \"container\">\r\n          <span className = \"text-muted\">App created with<span className=\"text-white\"> React </span>By <span className=\"text-white\"> Rohan </span></span>\r\n        </div>\r\n      </footer>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default Base\r\n","export const addItemToCart = (item, next) => {\r\n  let cart = []\r\n  if(typeof window !== undefined) {\r\n    if(localStorage.getItem(\"cart\")){\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"))\r\n    }\r\n    cart.push({\r\n      ...item,\r\n      count: 1\r\n    })\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart))\r\n    next();\r\n  }\r\n}\r\n\r\nexport const itemsInCart = () => {\r\n  if(typeof(window) !== undefined){\r\n    if(localStorage.getItem(\"cart\")){\r\n      return JSON.parse(localStorage.getItem(\"cart\"))\r\n    }\r\n  }\r\n}\r\n\r\nexport const removeItemFromCart = (productId) => {\r\n  let cart = []\r\n  if(typeof window !== undefined) {\r\n    if(localStorage.getItem(\"cart\")){\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"))\r\n    }\r\n    cart.map((item, index) => {\r\n      if(item._id === productId){\r\n        cart.splice(index, 1)\r\n      }\r\n    })\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart))\r\n  } \r\n  return cart;\r\n}\r\n\r\nexport const cartEmpty = next => {\r\n  if(typeof(window) !== undefined){\r\n    localStorage.removeItem(\"cart\")\r\n    let cart = []\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart))\r\n    next()\r\n  }\r\n}","import React from 'react';\r\nimport {API} from \"../../backend\"\r\n\r\nconst ImageHelper = ({product}) => {\r\n\r\n  const imageUrl = product ? `${API}/product/photo/${product._id}` : \"https://redecormyhome.com/wp-content/uploads/2020/06/imageedit_3_8132980001.png\"\r\n\r\n  return (\r\n  <div className=\"rounded border border-success p-2\">\r\n    <img\r\n      src={imageUrl}\r\n      alt=\"photo\"\r\n      style={{ maxHeight: \"100%\", maxWidth: \"100%\" }}\r\n      className=\"mb-3 rounded\"\r\n    />\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default ImageHelper\r\n","import React, {useState, useEffect} from 'react'\r\nimport { Redirect } from 'react-router-dom';\r\nimport { addItemToCart, removeItemFromCart} from './helper/cartHelper';\r\nimport { getProducts } from './helper/coreapicalls';\r\nimport ImageHelper from './helper/ImageHelper';\r\n\r\nconst Card = ({\r\n  isAddToCart = true, \r\n  isRemoveFromCart = false, \r\n  product, \r\n  setReload = (f) => f,\r\n  reload = undefined,\r\n  setAddedToCart = (f) => f\r\n}) => {\r\n\r\n  const [count, setcount] = useState(product.count)\r\n\r\n  const cartTittle = product ? product.name : \"A photo from pexels\"\r\n  const cartDescription = product ? product.description : \"A photo from pexels\"\r\n  const cartPrice = product ? product.price : \"Default\"\r\n\r\n  const addToCart = () => {\r\n    addItemToCart(product, () => {\r\n      setAddedToCart(true)\r\n    })\r\n  }\r\n\r\n\r\n  removeItemFromCart((productId) => {\r\n      console.log(\"Hello\")\r\n  })\r\n\r\n  const showAddToCart = () => {\r\n    return(\r\n  <div className=\"col-12\">\r\n    <button\r\n      onClick={addToCart}\r\n      className=\"btn btn-block btn-outline-success mt-2 mb-2\"\r\n    >\r\n      Add to Cart\r\n    </button>\r\n  </div>\r\n    )\r\n  }\r\n\r\n  const showRemoveFromCart = () => {\r\n    return(\r\n      <div className=\"col-12\">\r\n      <button\r\n        onClick={\r\n          () => {removeItemFromCart(product._id)\r\n          setReload(!reload)\r\n        }}\r\n        className=\"btn btn-block btn-outline-danger mt-2 mb-2\"\r\n      >\r\n        Remove from cart\r\n      </button>\r\n    </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"card text-white bg-dark border border-info \">\r\n      <div className=\"card-header lead\">{cartTittle}</div>\r\n      <div className=\"card-body\">\r\n        <ImageHelper product={product}/>\r\n        <p className=\"lead bg-success font-weight-normal text-wrap\">\r\n          {cartDescription}\r\n        </p>\r\n        <p className=\"btn btn-success rounded  btn-sm px-4\">$ {cartPrice}</p>\r\n        <div className=\"row\">\r\n          {isAddToCart ? showAddToCart() : \"\"}\r\n          {isRemoveFromCart ? showRemoveFromCart() : \"\"}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card\r\n","import React, {useEffect, useState} from 'react'\r\nimport \"../styles.css\"\r\nimport {API} from \"../backend\"\r\nimport Base from \"./Base\";\r\nimport Card from './Card';\r\nimport {getProducts} from \"./helper/coreapicalls\"\r\n\r\nconst Home = () => {\r\n\r\n  const [products, setProducts] = useState([])\r\n  const [error, setError] = useState(false)\r\n  const [addedToCart, setAddedToCart] = useState(false);\r\n\r\n\r\n  const preload = () => {\r\n    getProducts().then(data => {\r\n      if(data.error){\r\n        setError(data.error)\r\n      }else{\r\n        setProducts(data)\r\n      }\r\n    }).catch(err => {\r\n      console.log(err)\r\n    })\r\n  }\r\n\r\n  const showMessage = () => {\r\n    if(addedToCart){\r\n      return(\r\n        <div className=\"alert alert-info\">\r\n          <h2>Item added to cart</h2>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    preload()\r\n  }, [])\r\n\r\n  return (\r\n    <Base title=\"Home Page\" description=\"Welcome to the t-shirt store\">\r\n      {showMessage()}\r\n      <div className = \"row text-center\">\r\n        <h1 className = \"text-white\">All of the t-shirts</h1>\r\n        <div className = \"row\">\r\n        {products.map((value, index) => {\r\n          return(\r\n          <div key={index} className=\"col-md-4 mb-4\">\r\n            <Card addToCart=\"true\" product = {value} setAddedToCart = {setAddedToCart}/>\r\n          </div>  \r\n          )\r\n        })}\r\n        </div>\r\n        {console.log(products)}\r\n      </div>\r\n    </Base>\r\n  );\r\n}\r\n\r\nexport default Home\r\n","import {API} from \"../../backend\";\r\n\r\nexport const getProducts = () => {\r\n  return fetch(`${API}/products`, {\r\n    method: \"GET\"\r\n  }).then(response => {\r\n    return response.json()\r\n  }).catch(err => console.log(err))\r\n}","import React, {useState} from 'react'\r\nimport Base from \"../core/Base\";\r\nimport {Link} from \"react-router-dom\";\r\nimport UserService from \"../auth/helper\"\r\n\r\n\r\n\r\nconst Signup = () => {\r\n\r\n  const [values,setValues] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    success: false\r\n  });\r\n\r\n  const {name, email, password, error, success} = values;\r\n\r\n  const handleChange = name => (e) => {\r\n    // console.log(e.target)\r\n    setValues({...values, error: false, [name]: e.target.value})\r\n  }\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    setValues({...values, error: false, })\r\n    UserService.signup({name, email, password})\r\n    .then(data => {\r\n      if(data.error){\r\n        console.log(data)\r\n        setValues({...values, error: data.Error, success: false})\r\n      }else{\r\n        setValues({\r\n          ...values, \r\n          name: \"\",\r\n          email: \"\",\r\n          password: \"\",\r\n          error: \"\",\r\n          success: true\r\n        })\r\n      }\r\n    })\r\n    .catch(err => {\r\n      console.log(err)\r\n      setValues({...values, error:\"cannot reach server - 404\", success: false})\r\n    })\r\n  }\r\n\r\n  const signUpForm = () => {\r\n    return(\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <form action=\"\">\r\n\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light form-label\">Name</label>\r\n              <input value = {name} className=\"form-control\" onChange = {handleChange(\"name\")} type=\"text\"/>\r\n            </div>\r\n\r\n            <div className=\"form-group mt-3\">\r\n              <label className=\"text-light form-label\">Email</label>\r\n              <input value = {email} className=\"form-control\" onChange = {handleChange(\"email\")} type=\"email\"/>\r\n            </div>\r\n\r\n            <div className=\"form-group mt-3\">\r\n              <label className=\"text-light form-label\">Password</label>\r\n              <input value = {password} className=\"form-control\" onChange = {handleChange(\"password\")} type=\"password\"/>\r\n            </div>\r\n\r\n            <button onClick = {onSubmit} className=\"btn btn-success col-12 mt-4\">Submit</button>\r\n\r\n          </form>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const successMessage = () => {\r\n    return(\r\n    <div className=\"row\">\r\n    <div className=\"col-md-6 offset-sm-3 text-left\">\r\n    <div className=\"alert alert-success\" style = {{display:success ? \"\" : \"none\"}}>\r\n      New Account was created succesfully. Please login \r\n      <Link to = \"/signin\"> here</Link>\r\n    </div>\r\n    </div> \r\n    </div> \r\n    )\r\n  }\r\n\r\n  const errorMessage = () => {\r\n    return(\r\n    <div className=\"row\">\r\n    <div className=\"col-md-6 offset-sm-3 text-left\">\r\n    <div className=\"alert alert-danger\" style = {{display: error ? \"\" : \"none\"}}>\r\n      User registration failed, with error {error}.\r\n    </div>\r\n    </div>\r\n    </div>\r\n    )\r\n  }\r\n  \r\n  return (\r\n    <Base title = \"Sign up page\" description = \"A page for user to sign up\">\r\n      {successMessage()}\r\n      {errorMessage()}\r\n      {signUpForm()}\r\n      <p className=\"text-white text-center\">{JSON.stringify(values)}</p>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default Signup\r\n\r\n","import React, {useState} from 'react'\r\nimport Base from \"../core/Base\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\n\r\nimport UserService from \"../auth/helper\" \r\n\r\n\r\nconst Signin = () => {\r\n\r\n  const [values, setValues] = useState({\r\n    email: \"therohan@gmail.com\",\r\n    password: \"123456\",\r\n    error: \"\",\r\n    loading: false,\r\n    didRedirect: false\r\n  })\r\n\r\n  const {email, password, error, loading, didRedirect} = values;\r\n  const {user} = UserService.isAuthenticated()\r\n\r\n  const handleChange = name => (e) => {\r\n    // console.log(e.target)\r\n    setValues({...values, error: false, [name]: e.target.value})\r\n  }\r\n\r\n  const onSubmit = (e) =>{\r\n    e.preventDefault();\r\n\r\n    setValues({...values, error: false, loading: true})\r\n    UserService.signin({email, password})\r\n      .then(data => {\r\n        console.log(data.error)\r\n        if(data.error){\r\n          setValues({...values, error: data.error, loading: false})\r\n        }else {\r\n          UserService.authenticate(data, () => {\r\n          console.log(data)\r\n          setValues({...values, didRedirect: true})\r\n          \r\n        })\r\n      }\r\n      })\r\n      .catch((err) => {\r\n        setValues({...values, loading:false, error:\"Cannot reach to server - 404\"})\r\n        console.log(err)\r\n      })\r\n  }\r\n\r\n  const performRedirect = () => {\r\n    if(didRedirect){\r\n      if(user && user.role === 1){\r\n        return <Redirect to=\"/admin/dashboard\" />\r\n      }else{\r\n        return <Redirect to=\"/user/dashboard\" />\r\n      }\r\n    }\r\n    if (UserService.isAuthenticated()){\r\n      return <Redirect to=\"/\" />\r\n    }\r\n  }\r\n\r\n  const loadingMessage = () => {\r\n    return(\r\n      loading && (\r\n        <div className=\"alert alert-info\">\r\n          <h2>Loading.....</h2>\r\n        </div>\r\n      )\r\n    )\r\n  }\r\n\r\n  const errorMessage = () => {\r\n    return(\r\n    <div className=\"row\">\r\n    <div className=\"col-md-6 offset-sm-3 text-left\">\r\n    <div className=\"alert alert-danger\" style = {{display: error ? \"\" : \"none\"}}>\r\n      {error}.\r\n    </div>\r\n    </div>\r\n    </div>\r\n    )\r\n  }\r\n\r\n  const signInForm = () => {\r\n    return(\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <form action=\"\">\r\n\r\n            <div className=\"form-group mt-3\">\r\n              <label className=\"text-light form-label\">Email</label>\r\n              <input value={email} onChange={handleChange(\"email\")} className=\"form-control\" type=\"email\"/>\r\n            </div>\r\n\r\n            <div className=\"form-group mt-3\">\r\n              <label className=\"text-light form-label\">Password</label>\r\n              <input value={password} onChange={handleChange(\"password\")} className=\"form-control\" type=\"password\"/>\r\n            </div>\r\n\r\n            <button onClick={onSubmit} className=\"btn btn-success col-12 mt-4\">Submit</button>\r\n\r\n          </form>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Base title = \"Sign In Page\" description = \"A page for user to sign In\">\r\n      {loadingMessage()}\r\n      {errorMessage()}\r\n      {signInForm()}\r\n      {performRedirect()}\r\n      {/* <p>{JSON.stringify(values)}</p> */}\r\n    </Base>\r\n  )\r\n}\r\n\r\nexport default Signin\r\n","import React from 'react'\r\nimport {Route, Redirect} from \"react-router-dom\"\r\nimport UserService from \"./index\"\r\n\r\n\r\nconst AdminRoute = ({ component: Component, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        UserService.isAuthenticated() && UserService.isAuthenticated().user.role === 1 ? (\r\n          <Component {...props}/>\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/signin\",\r\n              state: { from: props.location }\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default AdminRoute","import React from 'react'\r\nimport {Route, Redirect} from \"react-router-dom\"\r\nimport UserService from \"./index\"\r\n\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        UserService.isAuthenticated() ? (\r\n          <Component {...props}/>\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/signin\",\r\n              state: { from: props.location }\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default PrivateRoute","import React, { useState, useEffect } from 'react'\r\nimport Base from '../core/Base'\r\nimport UserService from \"../auth/helper/index\"\r\nimport { getUserOrder } from './helper/userapicalls'\r\n\r\nconst UserDashboard = () => {\r\n\r\n  const {user, token} = UserService.isAuthenticated()\r\n  const [userOrders, setUserOrders] = useState([])\r\n  const [err, setErr] = useState(\"\")\r\n\r\n  const preload = () => {\r\n    getUserOrder(user._id, token).then(response => {\r\n      if(response.error){\r\n        setErr(err)\r\n      }else{\r\n        setUserOrders(response)\r\n      }\r\n    }).catch(err => {\r\n      console.log(err)\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    preload()\r\n  }, [])\r\n\r\n  const userLeft = () => {\r\n    return(\r\n      <div className=\"card\">\r\n        <h5 className=\"card-header text-dark\">\r\n          Your Dashboard\r\n        </h5>\r\n        <ul className=\"list-group\">\r\n\r\n          <li className=\"list-group-item\">\r\n            <h5 className=\"text-dark\">First Name: {user.name}</h5>\r\n          </li>\r\n\r\n          <li className=\"list-group-item\">\r\n            <h5 className=\"text-dark\">User Id: {user._id}</h5>\r\n          </li>\r\n\r\n          <li className=\"list-group-item\">\r\n            <h5 className=\"text-dark\">Email: {user.email}</h5>\r\n          </li>\r\n\r\n          <li className=\"list-group-item\">\r\n            <h5 className=\"text-dark\">Contact: {user.contact}</h5>\r\n          </li>\r\n          \r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n  <Base title={\"Hello \" + user.name} description=\"This is where you can manage your profile and orders\">\r\n  <div>\r\n  {userLeft()}\r\n  </div>\r\n\r\n  <div className=\"mt-3\">\r\n    {userOrders.length !== 0 ? (\r\n        userOrders.map((order, i) => {\r\n          return(\r\n          <div key={i} className=\"card\">\r\n          <h5 className=\"card-header text-dark\">\r\n            Your Orders\r\n          </h5>\r\n          <ul className=\"list-group\">\r\n            <div className=\"row\">\r\n            <div className=\"col-md-6\">\r\n              <li className=\"list-group-item bg-info\">\r\n                <h5 className=\"text-dark\">Order Id: {order._id}</h5>\r\n              </li>\r\n              <li className=\"list-group-item\">\r\n                <h5 className=\"text-dark\">Payment Status: {order.status}</h5>\r\n              </li>\r\n              <li className=\"list-group-item\">\r\n                <h5 className=\"text-dark\">Order Placed on: {order.createdAt}</h5>\r\n              </li>\r\n              <li className=\"list-group-item\">\r\n                <h5 className=\"text-dark\">Contact: {order.contact}</h5>\r\n              </li>\r\n              <li className=\"list-group-item\">\r\n                <h5 className=\"text-dark\">Total Bill: {order.amount}</h5>\r\n              </li>\r\n            </div>\r\n              {/* Item Card: */}\r\n            <div className=\"col-md-6\">\r\n              <li className=\"list-group-item bg-info\">\r\n                <h5 className=\"text-dark\">Items:</h5>\r\n              </li>\r\n              {order.products.map((product, i) => {\r\n                return(\r\n                <li key={i} className=\"list-group-item\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-6\">\r\n                      <h5 className=\"text-dark\">{product.name}</h5>\r\n                    </div>\r\n                    <div className=\"col-6\">\r\n                      <h5 className=\"text-dark\">{product.price}</h5>\r\n                    </div>\r\n                  </div>\r\n                </li>\r\n                )\r\n              })}\r\n            </div>\r\n            </div>\r\n          </ul>\r\n        </div>\r\n          )\r\n        })\r\n    ) : (\r\n      <h1>You dont have any orders</h1>\r\n    )}\r\n  </div>\r\n  </Base>\r\n)}\r\n\r\nexport default UserDashboard\r\n","import {API} from \"../../backend\"\r\n\r\nexport const getUserOrder = (userId, token) => {\r\n  return fetch(`${API}/orders/user/${userId}`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    }\r\n  }).then(response => {\r\n    return response.json()\r\n  }).catch(err => {\r\n    console.log(err)\r\n  })\r\n}","import React from 'react'\r\nimport Base from '../core/Base'\r\nimport UserService from \"../auth/helper\"\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nconst AdminDashboard = () => {\r\n\r\n  const {user: {name, email, role}} = UserService.isAuthenticated();\r\n\r\n  const adminLeftSide = () => {\r\n    return(\r\n      <div className=\"card\">\r\n        <h5 className=\"card-header bg-dark text-white\">\r\n          Admin Navigation\r\n        </h5>\r\n        <ul className=\"list-group\">\r\n\r\n          <li className=\"list-group-item\">\r\n            <Link to=\"/admin/create/category\" className=\"nav-link text-success\">Create Categories</Link>\r\n          </li>\r\n\r\n          <li className=\"list-group-item\">\r\n            <Link to=\"/admin/categories\" className=\"nav-link text-success\">Manage Categories</Link>\r\n          </li>\r\n\r\n          <li className=\"list-group-item\">\r\n            <Link to=\"/admin/create/product\" className=\"nav-link text-success\">Create Product</Link>\r\n          </li>\r\n\r\n          <li className=\"list-group-item\">\r\n            <Link to=\"/admin/products\" className=\"nav-link text-success\">Manage Products</Link>\r\n          </li>\r\n\r\n          <li className=\"list-group-item\">\r\n            <Link to=\"/admin/orders\" className=\"nav-link text-success\">Manage Orders</Link>\r\n          </li>\r\n          \r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n  \r\n  const adminRightSide = () => {\r\n    return(\r\n      <div className=\"card mb-4\">\r\n        <h4 className=\"card-header\">Admin Information</h4>\r\n        <ul className=\"list-group\">\r\n          <li className=\"list-group-item\">\r\n            <span className=\"badge bg-success mr-2\">Name:</span> {name}\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className=\"badge bg-success mr-2\">Email:</span> {email}\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className=\"badge bg-danger mr-2\">Admin Area</span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Base title=\"Welcome to admin dashboard\" description=\"Manage all of your orders here.\" className=\"container bg-success p-4\">\r\n      <div className=\"row\">\r\n        <div className=\"col-3\">\r\n        {adminLeftSide()}\r\n        </div>\r\n        <div className=\"col-9\">\r\n        {adminRightSide()}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  )\r\n}\r\n\r\nexport default AdminDashboard\r\n","import {API} from \"../../backend\"\r\n\r\n//category calls\r\n\r\n//create category:\r\n\r\nexport const createCategory = (userId, token, category) => {\r\n  return fetch(`${API}/category/create/${userId}`, {\r\n    method: \"POST\",\r\n    headers:{\r\n    Accept: \"application/json\",\r\n    \"Content-Type\": \"application/json\",\r\n    Authorization:`Bearer ${token}`\r\n    },\r\n    body: JSON.stringify(category)\r\n  })\r\n  .then(response => {\r\n    return response.json()\r\n  })\r\n  .catch(err => console.log(err))\r\n};\r\n\r\n//get All Categories:\r\n\r\nexport const getCategories = () => {\r\n  return fetch(`${API}/categories`, {\r\n    method: \"GET\"\r\n  }).then(response => {\r\n    return response.json()\r\n  }).catch(err => console.log(err))\r\n}\r\n\r\n//Update category:\r\n\r\nexport const updateCategory = (categoryId, userId, token, category) => {\r\n  return fetch(`${API}/category/${categoryId}/${userId}`, {\r\n    method: \"PUT\",\r\n    headers : {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\" : \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    },\r\n    body: JSON.stringify(category)\r\n  })\r\n  .then(response => {\r\n    return response.json()\r\n  })\r\n  .catch(err => console.log(err));\r\n}\r\n\r\n\r\nexport const deleteCategory = (categoryId, token, userId) => {\r\n  return fetch(`${API}/category/${categoryId}/${userId}`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    }\r\n  }).then(response => {\r\n    return response.json()\r\n  }).catch(err => console.log(err))\r\n}\r\n\r\n//get a single category: \r\n\r\nexport const getCategory = (categoryId) => {\r\n  return fetch(`${API}/category/${categoryId}`, {\r\n    method: \"GET\"\r\n  }).then(response => {\r\n    return response.json()\r\n  }).catch(err => {\r\n    console.log(err)\r\n  }) \r\n}\r\n\r\n\r\n//////////////////products calls/////////////////////////////////////\r\n\r\n//create a product:\r\n\r\nexport const createProduct = (userId, token, product) => {\r\n  return fetch(`${API}/product/create/${userId}`, {\r\n    method: \"POST\",\r\n    headers : {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    },\r\n    body: product\r\n  }).then(response => {\r\n    return response.json()\r\n  })\r\n  .catch(err => console.log(err));\r\n}\r\n\r\n//get all products:\r\n\r\nexport const getProducts = () => {\r\n  return fetch(`${API}/products`, {\r\n    method: \"GET\"\r\n  }).then(response => {\r\n    return response.json()\r\n  }).catch(err => console.log(err))\r\n}\r\n\r\n//get a single product:\r\n\r\nexport const getProduct = (productId) => {\r\n  return fetch(`${API}/product/${productId}`, {\r\n    method :\"GET\"\r\n  }).then(response => {\r\n    return response.json()\r\n  }).catch(err => console.log(err))\r\n}\r\n\r\n// delete a product:\r\n\r\nexport const deleteProduct = (productId, token, userId) => {\r\n  return fetch(`${API}/product/${productId}/${userId}`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    }\r\n  }).then(response => {\r\n    return response.json()\r\n  }).catch(err => console.log(err))\r\n}\r\n\r\n//update a product :\r\n\r\nexport const updateProduct = (productId, userId, token, product) => {\r\n  return fetch(`${API}/product/${productId}/${userId}`, {\r\n    method: \"PUT\",\r\n    headers : {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    },\r\n    body: product\r\n  }).then(response => {\r\n    return response.json()\r\n  })\r\n  .catch(err => console.log(err));\r\n}","import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport UserService from '../auth/helper'\r\nimport Base from '../core/Base'\r\nimport { createCategory } from './helper/adminapicall'\r\n\r\nconst AddCategory = () => {\r\n\r\n  const [name, setName] = useState(\"\")\r\n  const [error, setError] = useState(false)\r\n  const [success, setSuccess] = useState(false)\r\n\r\n  const {user, token} = UserService.isAuthenticated();\r\n\r\n  const goBack = () => (\r\n    <div className=\"mt-5\">\r\n      <Link to=\"/admin/dashboard\" className=\"btn btn-sm btn-success mb-3\">Admin Home</Link>\r\n    </div>\r\n  )\r\n  const handleChange = (e) => {\r\n    setError(\"\")\r\n    setName(e.target.value)\r\n    console.log(name)\r\n  }\r\n\r\n  const onClick = (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(false)\r\n\r\n    //backend request fired\r\n    createCategory(user._id, token, {name})\r\n      .then(data => {\r\n        if(data.error){\r\n          setError(data.error)\r\n        }else{\r\n          setError(\"\")\r\n          setSuccess(true)\r\n          setName(\"\")\r\n        }\r\n      }).catch(err => console.log(err))\r\n  };\r\n\r\n  const successMessage = () => {\r\n    if(success){\r\n      return <h4 className=\"text-success\">Category created succesfully</h4>\r\n    }\r\n  }\r\n\r\n  const warningMessage = () => {\r\n    if(error){\r\n      return <h4 className=\"text-warning\">Failed to create category</h4>\r\n    }\r\n  }\r\n\r\n  const categoryForm = () => (\r\n    <form>\r\n      <div className=\"form-group\">\r\n        <label className=\"lead\">Category Name:</label>\r\n        <input \r\n          value={name} \r\n          onChange={handleChange} \r\n          type=\"text\" \r\n          autoFocus\r\n          required\r\n          className=\"form-control my-3\"\r\n          placeholder=\"For Ex. Summer\"\r\n        />\r\n      <button \r\n        className=\"btn btn-outline-info text-dark\" \r\n        onClick={onClick}>Create Category</button>\r\n      </div>\r\n    </form>\r\n  )\r\n\r\n  return (\r\n    <Base \r\n      title=\"Create category here\" \r\n      description=\"Add new category for t-shirts\" \r\n      className=\"container bg-info p-4\"\r\n    >\r\n      <div className=\"row bg-white rounded\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {successMessage()}\r\n          {warningMessage()}\r\n          {categoryForm()} \r\n          {goBack()}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  )\r\n}\r\n\r\nexport default AddCategory\r\n","import React, {useState, useEffect} from 'react'\r\nimport Base from '../core/Base'\r\nimport {getCategories, deleteCategory} from \"./helper/adminapicall\"\r\nimport {Link} from \"react-router-dom\"\r\nimport UserService from \"../auth/helper/index\"\r\n\r\n\r\nconst ManageCategories = () => {\r\n\r\n  const [categories, setCategories] = useState([])\r\n  const {user, token} = UserService.isAuthenticated()\r\n\r\n  const preload = () => {\r\n    getCategories().then(data => {\r\n      if(data.error){\r\n        console.log(data.error)\r\n      }else{\r\n        setCategories(data)\r\n      }\r\n    }).catch(err => {\r\n      console.log(err)\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    preload()\r\n  }, [])\r\n\r\n  const deleteThisCategory = (categoryId) => {\r\n    deleteCategory(categoryId, token, user._id).then(data => {\r\n      if(data.error){\r\n        console.log(data.error)\r\n      }else{\r\n        preload()\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Base title=\"Welcome admin\" description=\"Manage products here\">\r\n      <h2 className=\"mb-4\">All products:</h2>\r\n      <Link className=\"btn btn-info\" to={`/admin/dashboard`}>\r\n        <span className=\"\">Admin Home</span>\r\n      </Link>\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h2 className=\"text-center text-white my-3\">Total {categories.length} categories</h2>\r\n          {categories.map((category, index) => {\r\n            return(\r\n            <div key={index} className=\"row  text-center mb-2 \">\r\n              <div className=\"col-4\">\r\n                <h3 className=\"text-white text-left\">{category.name}</h3>\r\n              </div>\r\n              <div className=\"col-4\">\r\n                <Link\r\n                  className=\"btn btn-success\"\r\n                  to={`/admin/category/update/${category._id}`}\r\n                >\r\n                  <span className=\"\">Update</span>\r\n                </Link>\r\n              </div>\r\n              <div className=\"col-4\">\r\n                <button onClick={() => {deleteThisCategory(category._id)}} className=\"btn btn-danger\">\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </div>\r\n            )\r\n          })}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  )\r\n}\r\n\r\nexport default ManageCategories\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport Base from '../core/Base'\r\nimport {createProduct, getCategories} from \"./helper/adminapicall\"\r\nimport UserService from \"../auth/helper/index\"\r\n\r\nconst AddProduct = () => {\r\n\r\n  const {user, token} = UserService.isAuthenticated()\r\n\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    stock: \"\",\r\n    photo: \"\",\r\n    categories: [],\r\n    category: \"\",\r\n    loading: false,\r\n    error: \"\",\r\n    createdProduct: \"\",\r\n    getRedirect: false,\r\n    formData: \"\"\r\n  });\r\n\r\n  const {\r\n    name, \r\n    description, \r\n    price, \r\n    stock, \r\n    categories, \r\n    category,\r\n    loading, \r\n    error, \r\n    createdProduct, \r\n    getRedirect, \r\n    formData\r\n  } = values\r\n\r\n  const preload = () => {\r\n    getCategories().then(data => {\r\n      if(data.error){\r\n        setValues({...values, error: data.error});\r\n      }else{\r\n        setValues({...values, categories: data, formData: new FormData()});\r\n      }\r\n    }).catch(err => {\r\n      console.log(err)\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    preload()\r\n  }, [])\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    setValues({...values, error: \"\", loading: true})\r\n\r\n    createProduct(user._id, token, formData)\r\n      .then(data => {\r\n        if(data.error){\r\n          setValues({...values, error: data.error})\r\n        }else{\r\n          setValues({\r\n            ...values,\r\n            name:\"\",\r\n            description: \"\",\r\n            price: \"\",\r\n            photo: \"\",\r\n            stock: \"\",\r\n            loading: false,\r\n            createdProduct: data.name\r\n          })\r\n          console.log(values)\r\n        }\r\n      })\r\n  }\r\n\r\n  const handleChange = name => (event) => {\r\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value\r\n\r\n    formData.set(name, value);\r\n\r\n    setValues({...values, [name]: value})\r\n  }\r\n\r\n  const successMessage = () => (\r\n    <div \r\n      className=\"alert alert-success mt-3\" \r\n      style = {{display : createdProduct ? \"\" : \"none\"}}\r\n    >\r\n      <h4>{createdProduct} created succesfully</h4>\r\n    </div>\r\n  )\r\n\r\n  const errorMessage = () => (\r\n    <div \r\n      className=\"alert alert-success mt-3\" \r\n      style = {{display : error ? \"\" : \"none\"}}\r\n    >\r\n      <h4>Failed with error: {error}</h4>\r\n    </div>\r\n  )\r\n\r\n\r\n  const createProductForm = () => (\r\n    <form >\r\n      <span>Post photo</span>\r\n      <div className=\"mb-3\">\r\n        <label className=\"btn btn-block btn-success\">\r\n          <input\r\n            onChange={handleChange(\"photo\")}\r\n            type=\"file\"\r\n            name=\"photo\"\r\n            accept=\"image\"\r\n            placeholder=\"choose a file\"\r\n          />\r\n        </label>\r\n      </div>\r\n      <div className=\"mb-3\">\r\n        <input\r\n          onChange={handleChange(\"name\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Name\"\r\n          value={name}\r\n        />\r\n      </div>\r\n      <div className=\"mb-3\">\r\n        <textarea\r\n          onChange={handleChange(\"description\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Description\"\r\n          value={description}\r\n        />\r\n      </div>\r\n      <div className=\"mb-3\">\r\n        <input\r\n          onChange={handleChange(\"price\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Price\"\r\n          value={price}\r\n        />\r\n      </div>\r\n      <div className=\"mb-3\">\r\n        <select\r\n          onChange={handleChange(\"category\")}\r\n          className=\"form-control\"\r\n          placeholder=\"Category\"\r\n        >\r\n          <option>Select</option>\r\n          {categories && \r\n            categories.map((cate, index) => {\r\n              return(\r\n                <option key={index} value={cate._id}>{cate.name}</option>\r\n              )\r\n            })\r\n          }\r\n        </select>\r\n      </div>\r\n      <div className=\"mb-3\">\r\n        <input\r\n          onChange={handleChange(\"stock\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Quantity\"\r\n          value={stock}\r\n        />\r\n      </div>\r\n      \r\n      <button type=\"submit\" onClick={onSubmit} className=\"btn btn-outline-success mb-3\">\r\n        Create Product\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <Base title=\"Add a product here\" description=\"Welcome to product creation section\" className=\"container bg-info p-4\">\r\n      <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-3\">Admin Home</Link>\r\n      <div className=\"row bg-dark text-white rounded\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {successMessage()}\r\n          {errorMessage()}\r\n          {createProductForm()}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  )\r\n}\r\n\r\nexport default AddProduct\r\n","import React, {useState, useEffect} from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport UserService from '../auth/helper'\r\nimport Base from '../core/Base'\r\nimport { deleteProduct, getProducts } from './helper/adminapicall'\r\n\r\nconst ManageProducts = () => {\r\n\r\n  const [products, setProducts] = useState([]);\r\n  const {user, token} = UserService.isAuthenticated();\r\n\r\n  const preload = () => {\r\n    getProducts().then((data) => {\r\n      if(data.error){\r\n        console.log(data.error);\r\n      }else{\r\n        setProducts(data)\r\n      }\r\n    }).catch(err => {\r\n      console.log(err)\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    preload();\r\n  }, [])\r\n\r\n  const deleteThisProduct = (productId) => {\r\n    deleteProduct(productId, token, user._id).then(data => {\r\n      if(data.error){\r\n        console.log(data)\r\n      }else{\r\n        preload();\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n      <Base title=\"Welcome admin\" description=\"Manage products here\">\r\n      <h2 className=\"mb-4\">All products:</h2>\r\n      <Link className=\"btn btn-info\" to={`/admin/dashboard`}>\r\n        <span className=\"\">Admin Home</span>\r\n      </Link>\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h2 className=\"text-center text-white my-3\">Total {products.length} products</h2>\r\n          {products.map((value, index) => {\r\n            return(\r\n            <div key={index} className=\"row  text-center mb-2 \">\r\n              <div className=\"col-4\">\r\n                <h3 className=\"text-white text-left\">{value.name}</h3>\r\n              </div>\r\n              <div className=\"col-4\">\r\n                <Link\r\n                  className=\"btn btn-success\"\r\n                  to={`/admin/product/update/${value._id}`}\r\n                >\r\n                  <span className=\"\">Update</span>\r\n                </Link>\r\n              </div>\r\n              <div className=\"col-4\">\r\n                <button onClick={() => {deleteThisProduct(value._id)}} className=\"btn btn-danger\">\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </div>\r\n            )\r\n          })}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  )\r\n}\r\n\r\nexport default ManageProducts\r\n","import React, {useState, useEffect} from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport UserService from '../auth/helper';\r\nimport Base from '../core/Base';\r\nimport {getCategories, getProduct, updateProduct } from './helper/adminapicall';\r\n\r\n\r\n\r\nconst UpdateProduct = () => {\r\n  const {user, token} = UserService.isAuthenticated();\r\n  const {productId} = useParams()\r\n\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    stock: \"\",\r\n    photo: \"\",\r\n    categories: [],\r\n    category: \"\",\r\n    loading: false,\r\n    error: \"\",\r\n    createdProduct: \"\",\r\n    getRedirect: false,\r\n    formData: \"\"\r\n  });\r\n\r\n  const {\r\n    name, \r\n    description, \r\n    price, \r\n    stock, \r\n    categories, \r\n    category,\r\n    loading, \r\n    error, \r\n    createdProduct, \r\n    getRedirect, \r\n    formData\r\n  } = values\r\n\r\n  const preload = () => {\r\n    getProduct(productId).then(data => {\r\n      console.log(data)\r\n      if(data.error){\r\n        setValues({...values, error: data.error})\r\n      }else{\r\n\r\n        preloadCategories();\r\n        setValues({\r\n          ...values, \r\n          name: data.name, \r\n          description: data.description, \r\n          price: data.price, \r\n          category:data.category._id,\r\n          stock: data.stock,\r\n          formData: new FormData(),\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  const preloadCategories = () => {\r\n    getCategories().then(data => {\r\n      if(data.error){\r\n        setValues({...values, error: data.error})\r\n      }else{\r\n        console.log(data)\r\n        setValues({\r\n          categories: data,\r\n          formData: new FormData()\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    preload()\r\n  }, [])\r\n\r\n  const onUpdate = (e) => {\r\n    e.preventDefault();\r\n    setValues({...values, error: \"\", loading: true})\r\n\r\n    updateProduct(productId, user._id, token, formData)\r\n      .then(data => {\r\n        if(data.error){\r\n          setValues({...values, error: data.error})\r\n        }else{\r\n          setValues({\r\n            ...values,\r\n            name:\"\",\r\n            description: \"\",\r\n            price: \"\",\r\n            photo: \"\",\r\n            stock: \"\",\r\n            loading: false,\r\n            createdProduct: data.name\r\n          })\r\n          console.log(values)\r\n        }\r\n      })\r\n  }\r\n\r\n  const handleChange = name => (event) => {\r\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value\r\n\r\n    formData.set(name, value);\r\n\r\n    setValues({...values, [name]: value})\r\n  }\r\n\r\n  const successMessage = () => (\r\n    <div \r\n      className=\"alert alert-success mt-3\" \r\n      style = {{display : createdProduct ? \"\" : \"none\"}}\r\n    >\r\n      <h4>{createdProduct} updated succesfully</h4>\r\n    </div>\r\n  )\r\n\r\n  const errorMessage = () => (\r\n    <div \r\n      className=\"alert alert-success mt-3\" \r\n      style = {{display : error ? \"\" : \"none\"}}\r\n    >\r\n      <h4>Failed with error: {error}</h4>\r\n    </div>\r\n  )\r\n\r\n\r\n  const createProductForm = () => (\r\n    <form >\r\n      <span>Post photo</span>\r\n      <div className=\"mb-3\">\r\n        <label className=\"btn btn-block btn-success\">\r\n          <input\r\n            onChange={handleChange(\"photo\")}\r\n            type=\"file\"\r\n            name=\"photo\"\r\n            accept=\"image\"\r\n            placeholder=\"choose a file\"\r\n          />\r\n        </label>\r\n      </div>\r\n      <div className=\"mb-3\">\r\n        <input\r\n          onChange={handleChange(\"name\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Name\"\r\n          value={name}\r\n        />\r\n      </div>\r\n      <div className=\"mb-3\">\r\n        <textarea\r\n          onChange={handleChange(\"description\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Description\"\r\n          value={description}\r\n        />\r\n      </div>\r\n      <div className=\"mb-3\">\r\n        <input\r\n          onChange={handleChange(\"price\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Price\"\r\n          value={price}\r\n        />\r\n      </div>\r\n      <div className=\"mb-3\">\r\n        <select\r\n          onChange={handleChange(\"category\")}\r\n          className=\"form-control\"\r\n          placeholder=\"Category\"\r\n        >\r\n          <option>Select</option>\r\n          {categories && \r\n            categories.map((cate, index) => {\r\n              return(\r\n                <option key={index} value={cate._id}>{cate.name}</option>\r\n              )\r\n            })\r\n          }\r\n        </select>\r\n      </div>\r\n      <div className=\"mb-3\">\r\n        <input\r\n          onChange={handleChange(\"stock\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Quantity\"\r\n          value={stock}\r\n        />\r\n      </div>\r\n      \r\n      <button type=\"submit\" onClick={onUpdate} className=\"btn btn-outline-success mb-3\">\r\n        Update Product\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <Base title=\"Add a product here\" description=\"Welcome to product creation section\" className=\"container bg-info p-4\">\r\n      <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-3\">Admin Home</Link>\r\n      <div className=\"row bg-dark text-white rounded\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {successMessage()}\r\n          {errorMessage()}\r\n          {createProductForm()}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  )\r\n}\r\n\r\nexport default UpdateProduct\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link, useParams } from 'react-router-dom'\r\nimport UserService from '../auth/helper'\r\nimport Base from '../core/Base'\r\nimport {updateCategory, getCategory } from './helper/adminapicall'\r\n\r\nconst UpdateCategory = () => {\r\n\r\n  const [name, setName] = useState(\"\")\r\n  const [error, setError] = useState(false)\r\n  const [success, setSuccess] = useState(false)\r\n  const {categoryId} = useParams()\r\n\r\n\r\n  const {user, token} = UserService.isAuthenticated();\r\n\r\n  const handleChange = (e) => {\r\n    setError(\"\")\r\n    setName(e.target.value)\r\n    console.log(name)\r\n  }\r\n\r\n  const onUpdate = (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(false)\r\n\r\n    //backend request fired\r\n    updateCategory(categoryId, user._id, token, {name})\r\n      .then(data => {\r\n        if(data.error){\r\n          setError(data.error)\r\n        }else{\r\n          setError(\"\")\r\n          setSuccess(true)\r\n          setName(\"\")\r\n        }\r\n      }).catch(err => console.log(err))\r\n  };\r\n\r\n  const preload = () => {\r\n    getCategory(categoryId).then(data => {\r\n      setName(data.name)\r\n    }).catch(err => {\r\n      console.log(err)\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    preload()\r\n  }, [])\r\n\r\n  const goBack = () => (\r\n    <div className=\"mt-5\">\r\n      <Link to=\"/admin/dashboard\" className=\"btn btn-sm btn-success mb-3\">Admin Home</Link>\r\n    </div>\r\n  )\r\n\r\n  const successMessage = () => {\r\n    if(success){\r\n      return <h4 className=\"text-success\">Category created succesfully</h4>\r\n    }\r\n  }\r\n\r\n  const warningMessage = () => {\r\n    if(error){\r\n      return <h4 className=\"text-warning\">{error}</h4>\r\n    }\r\n  }\r\n\r\n  const categoryForm = () => (\r\n    <form>\r\n      <div className=\"form-group\">\r\n        <label className=\"lead\">Category Name:</label>\r\n        <input \r\n          value={name} \r\n          onChange={handleChange} \r\n          type=\"text\"\r\n          autoFocus\r\n          required\r\n          className=\"form-control my-3\"\r\n          placeholder=\"For Ex. Summer\"\r\n        />\r\n      <button \r\n        className=\"btn btn-outline-info text-dark\" \r\n        onClick={onUpdate}>Update Category</button>\r\n      </div>\r\n    </form>\r\n  )\r\n\r\n  return (\r\n    <Base \r\n      title=\"Create category here\" \r\n      description=\"Add new category for t-shirts\" \r\n      className=\"container bg-info p-4\"\r\n    >\r\n      <div className=\"row bg-white rounded\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {successMessage()}\r\n          {warningMessage()}\r\n          {categoryForm()} \r\n          {goBack()}\r\n          <p>{name}</p>\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  )\r\n}\r\n\r\nexport default UpdateCategory\r\n","import React, {useState, useEffect} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { itemsInCart, cartEmpty } from './helper/cartHelper';\r\nimport { getMeToken, processPayment } from './helper/paymentHelper';\r\nimport {createOrder} from \"./helper/orderHelper\"\r\nimport UserService from '../auth/helper';\r\nimport DropIn from \"braintree-web-drop-in-react\"\r\n\r\n\r\nconst Payment = ({products, setReload = (f) => f, reload = undefined}) => {\r\n\r\n  const [info, setinfo] = useState({\r\n    loading: false,\r\n    success: false,\r\n    clientToken: null,\r\n    error: \"\",\r\n    instance: \"\"\r\n  })\r\n\r\n  const userId = UserService.isAuthenticated().user._id\r\n  const token = UserService.isAuthenticated().token\r\n\r\n  const getToken = () => {\r\n    getMeToken(userId, token).then(info => {\r\n      console.log(\"information\", info)\r\n      if(info){\r\n        setinfo({\r\n          ...info,\r\n          error: info.error\r\n        })\r\n      }else{\r\n        const clientToken = info.clientToken\r\n        setinfo({clientToken})\r\n      }\r\n    }).catch(err => {\r\n      console.log(err)\r\n    }) \r\n  }\r\n\r\n  const showBrainTree = () => {\r\n    return(\r\n      <div>\r\n        {info.clientToken !== null && products.length > 0 ? (\r\n        <div>\r\n          <DropIn\r\n            options={{ authorization: info.clientToken }}\r\n            onInstance={(instance) => (info.instance = instance)}\r\n          />\r\n          <button className=\"btn btn-block btn-success\" onClick={() => {onPurchase()}}>Buy</button>\r\n        </div>\r\n        ) : (\r\n          <h3>Please login or add some items in cart</h3>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  useEffect(() => {\r\n    getToken()\r\n  },[])\r\n\r\n  const onPurchase = () => {\r\n    setinfo({loading: true})\r\n    let nonce;\r\n    let getnonce = info.instance\r\n    .requestPaymentMethod()\r\n    .then(data => {\r\n      nonce = data.nonce\r\n      const paymentData = {\r\n        paymentMethodNonce: nonce,\r\n        amount: getAmount()\r\n      }\r\n      processPayment(userId, token, paymentData)\r\n      .then(response => {\r\n\r\n        setinfo({...info, success: response.success, loading: false})\r\n\r\n        console.log(\"PAYMENT SUCCESS\")\r\n\r\n        const orderData = {\r\n          products: products,\r\n          transaction_id: response.transaction.id,\r\n          amount: response.transaction.amount\r\n        }\r\n\r\n        createOrder(userId, token, orderData);\r\n\r\n        cartEmpty(() => {\r\n          console.log(\"did we got a crash?\");\r\n        })\r\n\r\n        //TODO: force reload\r\n        setReload(!reload);\r\n      })\r\n      .catch(err => {\r\n        setinfo({loading: false, success: false})\r\n        console.log(\"PAYMENT FAILED\", err)\r\n      });\r\n    });\r\n  };\r\n\r\n  const getAmount = () => {\r\n    let amount = 0\r\n    products.map((product) => {\r\n      amount = amount + product.price\r\n    })\r\n    return amount\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h3>Your bill is {getAmount()}</h3>\r\n      {showBrainTree()}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Payment\r\n","import { API } from \"../../backend\";\r\n\r\nexport const getMeToken = (userId, token) => {\r\n  console.log(\"userId ---\" + userId +\"Token--\" +token)\r\n  return fetch(`${API}payment/gettoken/${userId}`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    }\r\n  }).then((response) => {\r\n    console.log(response)\r\n    return response.json();\r\n  }).catch(err => {\r\n    console.log(err)\r\n  })\r\n}\r\n\r\n\r\nexport const processPayment = (userId, token, paymentInfo) => {\r\n  return fetch(`${API}/payment/braintree/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    },\r\n    body:JSON.stringify(paymentInfo)\r\n  }).then((response) => {\r\n    return response.json();\r\n  }).catch(err => {\r\n    console.log(err)\r\n  })\r\n}","import {API} from \"../../backend\";\r\n\r\nexport const createOrder = (userId, token, orderData) => {\r\n  return fetch(`${API}/order/create/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    },\r\n    body: JSON.stringify({order: orderData})\r\n  }).then(response => {\r\n    return response.json()\r\n  }).catch(err => console.log(err))\r\n}\r\n\r\nexport const getAllOrders = (userId, token) => {\r\n  return fetch(`${API}/order/all/${userId}`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    }\r\n  }).then(response => {\r\n    return response.json()\r\n  }).catch(err => {\r\n    console.log(err)\r\n  })\r\n}\r\n\r\nexport const cancelOrder = (userId, token, order) => {\r\n  return fetch(`${API}/order/all/delete/${order._id}/${userId}`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    }\r\n  }).then(response => {\r\n    return response.json()\r\n  }).catch(err => {\r\n    console.log(err)\r\n  })\r\n}\r\n\r\n","import React, { useEffect, useState } from 'react'\r\nimport {itemsInCart} from \"./helper/cartHelper\"\r\nimport Base from \"../core/Base\"\r\nimport Card from './Card'\r\nimport Payment from './Payment'\r\n\r\nconst Cart = () => {\r\n\r\n  const [cartItems, setCartItmes] = useState([]);\r\n  const [reload, setReload] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setCartItmes(itemsInCart())\r\n  }, [reload])\r\n\r\n  const loadAllProducts = () => {\r\n    return(\r\n      <div>\r\n        <h2>This section loads all the products</h2>\r\n        {cartItems.map((value, index) => {\r\n          return(\r\n          <Card \r\n            key = {index} \r\n            product = {value} \r\n            isAddToCart={false} \r\n            isRemoveFromCart={true}\r\n            setReload={setReload}\r\n            reload={reload}\r\n          />\r\n          )\r\n        })}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Base title=\"Cart\" description=\"Check your items and pay.\">\r\n      <div className=\"row text-center\">\r\n        <div className=\"col-6\">\r\n          {cartItems.length > 0 ? loadAllProducts() : (<h3>No products in cart</h3>)}\r\n        </div>\r\n        <div className=\"col-6\">\r\n          <Payment products = {cartItems} setReload={setReload}/>\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  )\r\n}\r\n\r\nexport default Cart\r\n","import React, {useState, useEffect} from 'react'\r\nimport UserService from '../auth/helper'\r\nimport Base from '../core/Base'\r\nimport { getAllOrders, cancelOrder } from '../core/helper/orderHelper'\r\n\r\nconst Orders = () => {\r\n\r\n  const {user, token} = UserService.isAuthenticated();\r\n  const [orders, setOrders] = useState([])\r\n  const [error, setError] = useState(\"\")\r\n\r\n  const preload = () => {\r\n    getAllOrders(user._id, token).then(data => {\r\n      if(data.error){\r\n        setError(data.error)\r\n        console.log(data.error)\r\n      }else{\r\n        console.log(data)\r\n        setOrders(data)\r\n      }\r\n    }).catch(err => console.log(err))\r\n  }\r\n\r\n  useEffect(() => {\r\n    preload()\r\n  }, [])\r\n\r\n  const cancelTheOrder = (order) => {\r\n    cancelOrder(user._id, token, order).then(data => {\r\n      if(data.error){\r\n        setError(data.error)\r\n        console.log(data.error)\r\n      }else{\r\n        console.log(data)\r\n        preload()\r\n      }\r\n    }).catch(err => console.log(err))\r\n  }\r\n\r\n\r\n  const userDetailsCard = (order) => {\r\n    return(\r\n      <div className=\"card text-dark\">\r\n        <div className=\"card-header\">\r\n          User Details\r\n        </div>\r\n        <ul className=\"list-group\">\r\n          <li className=\"list-group-item\">\r\n            User Name: {order.user.name}\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            User ID: {order.user._id}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const paymentDetailsCard = (order) => {\r\n    return(\r\n      <div className=\"card text-dark mt-3\">\r\n      <div className=\"card-header\">\r\n        Payment Details\r\n      </div>\r\n      <ul className=\"list-group\">\r\n        <li className=\"list-group-item\">\r\n          Total Bill: {order.amount}\r\n        </li>\r\n        <li className=\"list-group-item\">\r\n          Transaction ID: {order.transaction_id}\r\n        </li>\r\n      </ul>                 \r\n      </div>\r\n    )\r\n  }\r\n\r\n  const bottomButtonRow = (order) => {\r\n    return(\r\n      <div className = \"row mt-3\">\r\n      <div className=\"col-3\">\r\n      <button className={order.status === \"Received\" ? \"disabled btn btn-block bg-warning\" : \"btn btn-block bg-danger\"}>[Status: {order.status}]</button>\r\n      </div>\r\n      <div className=\"col-3\">\r\n\r\n      </div>\r\n      <div className=\"col-3\">\r\n\r\n      </div>\r\n      <div className=\"col-3\">\r\n      <button onClick={() => cancelTheOrder(order)} className=\"btn btn-block btn-danger\">Cancel This order</button>\r\n      </div>\r\n    </div>\r\n    )\r\n  }\r\n\r\n\r\n  return (\r\n    <Base title=\"All Orders\" description=\"This is where admin can manage and check all orders\">\r\n      {orders.map((order, i) => {\r\n        return(\r\n          <div key={i} className=\"card m-3 text-dark\">\r\n            <div className=\"card-header\">\r\n              Order Id : {order._id }\r\n            </div>\r\n            <div className=\"card-body\">\r\n              <div className=\"row\">\r\n                <div className=\"col-6\">\r\n                  <div className=\"card text-dark\">\r\n                    <div className=\"card-header\">\r\n                      Purchases\r\n                    </div>\r\n                    {order.products.map((product, i) => {\r\n                      return(\r\n                        <div key={i}>\r\n                          <ul className=\"list-group\">\r\n                            <li className=\"list-group-item\">{product.name}</li>\r\n                          </ul>\r\n                        </div>\r\n                      )\r\n                    })}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* second card */}\r\n                <div className=\"col-6\">\r\n\r\n                  {userDetailsCard(order)}\r\n                  {paymentDetailsCard(order)}\r\n                </div>\r\n              </div>\r\n\r\n              {/* //second card ends */}\r\n                {bottomButtonRow(order)}\r\n            </div>\r\n          </div>\r\n        )\r\n      })}\r\n    </Base>\r\n  )\r\n}\r\n\r\nexport default Orders","import React from 'react'\r\nimport {BrowserRouter, Switch, Route} from \"react-router-dom\"\r\nimport Home from \"./core/Home\"\r\nimport Signup from \"./user/Signup\"\r\nimport Signin from \"./user/Signin\"\r\nimport AdminRoute from './auth/helper/AdminRoutes';\r\nimport PrivateRoute from \"./auth/helper/PrivateRoutes\"\r\nimport UserDashboard from './user/UserDashBoard'\r\nimport AdminDashboard from './user/AdminDashBoard'\r\nimport AddCategory from './admin/AddCategory'\r\nimport ManageCategories from './admin/ManageCategories'\r\nimport AddProduct from \"./admin/AddProduct\"\r\nimport ManageProducts from './admin/ManageProducts'\r\nimport UpdateProduct from './admin/UpdateProduct'\r\nimport UpdateCategory from './admin/UpdateCategory'\r\nimport Cart from \"./core/Cart\"\r\nimport Orders from './admin/Orders'\r\n\r\n\r\nconst Routes = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path = \"/\" exact component = {Home}/>\r\n        <Route path = \"/signup\" exact component = {Signup}/>\r\n        <Route path = \"/signin\" exact component = {Signin}/>\r\n        <PrivateRoute path = \"/user/dashboard\" exact component = {UserDashboard}/>\r\n        <AdminRoute path = \"/admin/dashboard\" exact component = {AdminDashboard}/>\r\n        <AdminRoute path = \"/admin/create/category\" exact component = {AddCategory}/>\r\n        <AdminRoute path = \"/admin/categories\" exact component = {ManageCategories}/>\r\n        <AdminRoute path = \"/admin/create/product\" exact component = {AddProduct}/>\r\n        <AdminRoute path = \"/admin/products\" exact component = {ManageProducts}/>\r\n        <AdminRoute path = \"/admin/product/update/:productId\" exact component = {UpdateProduct}/>\r\n        <AdminRoute path = \"/admin/category/update/:categoryId\" exact component = {UpdateCategory}/>\r\n        <AdminRoute path = \"/admin/orders\" exact component = {Orders}/>\r\n        <Route path = \"/cart\" exact component = {Cart}/>\r\n      </Switch>\r\n    </BrowserRouter>\r\n  )\r\n}\r\n\r\nexport default Routes\r\n","import React from \"react\"\r\nimport Routes from \"./Routes\"\r\nimport ReactDom from \"react-dom\"\r\n\r\nReactDom.render(\r\n  <Routes/>,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}